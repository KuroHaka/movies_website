{% macro movie_item(movie) -%}
  <div class="movie-item">
    <img src="https://media.themoviedb.org/t/p/w94_and_h141_bestv2/{{ movie['poster_path'] }}" />
    <div>
      <strong><a href="/movie/{{ movie['_id'] }}">{{ movie["title"] }}</a></strong><br>
      ‚≠ê {{ movie["vote_average"] }} <small>({{ movie["vote_count"] }})</small><br>
      {{ movie["release_date"].date() if movie["release_date"] else "" }}

      {% if movie.get("weightedScore") %}
      <br>
      <small>weightedScore: {{ movie["weightedScore"] }}</small>
      {% endif %}

      {% if movie.get("popularity") %}
      <br>
      <small>popularity: {{  movie.get("popularity") }}</small>
      {% endif %}
    </div>
  </div>
{%- endmacro %}


{% macro facets(facets, facet_name) -%}
  <ul class="facet-list">
  {% for facet in facets %}
    <li class="facet-item">
        <a href="{{ url_for('search_results', query=request.args.get('query'), **{facet_name: facet['_id']}) }}">{{ facet["_id"] }}</a>
        <span class="facet-count">{{ facet["count"] }}</span>
    </li>
  {% endfor %}
  </ul>
{%- endmacro %}
